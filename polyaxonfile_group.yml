---
version: 1

kind: group

framework: tensorflow

# environment:
#   node_selector:
#     polyaxon: general

build:
  backend: native  # kaniko
  image: tensorflow/tensorflow:1.4.1-py3
  build_steps:
    - pip install polyaxon-client
    - pip install boto3
    - pip install botocore

hptuning:
  concurrency: 4
  matrix:
    logger_type:
      values: ['print', 'logger', 'polyaxon', 'logger_stream']

run:
  cmd:  python3 model.py --logger_type={{logger_type}}

logging:
  level: INFO  # setting to DEBUG level will include tons of s3 logs
